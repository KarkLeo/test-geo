{"version":3,"sources":["logo.svg","services/navigator.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getCurrentPosition","setPosState","a","readPosition","position","navigator","geolocation","watchPosition","e","console","log","mapboxgl","accessToken","Map","lng","lat","track","mapContainer","useRef","useState","zoom","mapLink","setMapLink","useEffect","undefined","getSource","setData","cont","current","map","container","style","center","on","addSource","addLayer","remove","className","ref","top","right","left","bottom","App","pos","setPos","setTrack","setLng","setLat","getPosition","coords","longitude","latitude","concat","src","logo","alt","href","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.05539dfc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export const getCurrentPosition = async (setPosState: (pos:null | GeolocationPosition ) => void): Promise<void> => {\r\n    const readPosition = (position: GeolocationPosition) => {\r\n        setPosState( position)\r\n    }\r\n await navigator.geolocation.watchPosition(readPosition, e => console.log(e))\r\n}","import React, {useEffect, useRef, useState} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport {getCurrentPosition} from \"./services/navigator\";\nimport mapboxgl from 'mapbox-gl';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoia2Fya2xlbyIsImEiOiJja2xxbmJjNmgxZHVzMm9tc2Vja3FzNmJmIn0.oMIEudxUzM7cbbOj2bybpw';\n\ninterface  MapProps {\n    lng: number,\n    lat: number,\n    track: number[][]\n}\nconst Map = ({lng, lat, track}: MapProps) => {\n    const mapContainer = useRef<null | HTMLDivElement>(null);\n\n    const [zoom, setZoom] = useState(12);\n\n\n    const [mapLink, setMapLink] = useState<any>(null)\n\n\n    useEffect(() => {\n        if (mapLink !== undefined) {\n\n            mapLink?.getSource('route').setData( {\n                'type': 'Feature',\n                'properties': {},\n                'geometry': {\n                    'type': 'LineString',\n                    'coordinates': track\n                }\n            });\n        }\n    }, [track])\n\n    useEffect(() => {\n        let cont = mapContainer.current as string | HTMLElement\n\n        const map = new mapboxgl.Map({\n            container:  cont,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: [lng, lat],\n            zoom: zoom\n        });\n\n        setMapLink(map)\n\n        map.on('load', function () {\n            map.addSource('route', {\n                'type': 'geojson',\n                'data': {\n                    'type': 'Feature',\n                    'properties': {},\n                    'geometry': {\n                        'type': 'LineString',\n                        'coordinates': track\n                    }\n                }\n            });\n            map.addLayer({\n                'id': 'route',\n                'type': 'line',\n                'source': 'route',\n                'layout': {\n                    'line-join': 'round',\n                    'line-cap': 'round'\n                },\n                'paint': {\n                    'line-color': '#922',\n                    'line-width': 8\n                }\n            });\n        });\n        return () => map.remove();\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return (\n        <div>\n            <div className=\"map-container\" ref={mapContainer} style={{\n                position: 'absolute',\n                top: 100,\n                right: 100,\n                left: 100,\n                bottom: 100\n            }} />\n        </div>\n    );\n};\n\nfunction App() {\n\n  const [pos, setPos] = useState<null | GeolocationPosition>(null)\n    const [track, setTrack] = useState<number[][]>([])\n    const [lng, setLng] = useState(-70.9);\n    const [lat, setLat] = useState(42.35);\n\n\n    console.log(pos)\n    console.log(track)\n\n  useEffect(  () => {\n    const getPosition = async ()=>  {\n await getCurrentPosition(setPos)\n    }\n    getPosition()\n  }, [])\n\n    useEffect(() => {\n        if(pos) {\n            setLng(pos?.coords.longitude)\n            setLat(pos?.coords.latitude)\n        setTrack(track.concat([[pos?.coords.longitude, pos?.coords.latitude]]))\n        }\n\n\n    }, [pos])\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        {pos && <b>{`coords: ${pos.coords.latitude}, ${pos.coords.longitude}`}</b>}\n        <p>\n          Edit <code>src/App.tsx</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n        <Map lat={lat} lng={lng} track={track}/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}